@inject AppState AppState

<MudDialog>
    <DialogContent>
        
        <MudNumericField @bind-Value="AppState.ItemsPerPage" Label="Items per page" Min="0" Max="100"/>
        
        <MudSelect T="AppState.GenderFilter"
                   @bind-Value="AppState.Gender"
                   Label="Gender"
                   Placeholder="Any">
            @foreach (AppState.GenderFilter option in Enum.GetValues(typeof(AppState.GenderFilter)))
            {
                <MudSelectItem Value="@option"/>
            }
        </MudSelect>
        
        @* This code breaks OCP :( *@
        <MudSelect T="string?"
                   @bind-Value="AppState.DepartmentName"
                   Label="Department"
                   Placeholder="Any">
            <MudSelectItem T="string?" Value="@(null)">Any</MudSelectItem>
            <MudSelectItem Value="@("Customer Service")"/>
            <MudSelectItem Value="@("Development")"/>
            <MudSelectItem Value="@("Finance")"/>
            <MudSelectItem Value="@("Human Resources")"/>
            <MudSelectItem Value="@("Marketing")"/>
            <MudSelectItem Value="@("Production")"/>
            <MudSelectItem Value="@("Quality Management")"/>
            <MudSelectItem Value="@("Research")"/>
            <MudSelectItem Value="@("Sales")"/>
        </MudSelect>
        
    </DialogContent>
    <DialogActions>
        
        <MudButton OnClick="@AppState.ResetToDefaults">Default</MudButton>
        <MudButton OnClick="Save" Variant="Variant.Filled" Color="Color.Success">Save</MudButton>
        
    </DialogActions>
</MudDialog>

@code
{
    [CascadingParameter]
    [EditorRequired]
    MudDialogInstance MudDialog { get; set; } = null!;

    void Save()
    {
        MudDialog.Close(DialogResult.Ok(true));
    }
}